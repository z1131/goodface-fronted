<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GOODFACE</title>
    <link rel="stylesheet" href="css/user.css?v=2">
    <link rel="stylesheet" href="css/modal.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>GOODFACE</h1>
        </header>

        <main>

            <div class="user-section" id="profileSection">
                <h2>ç”¨æˆ·ä¿¡æ¯</h2>
                <div class="profile-info" id="userInfo">
                    <div class="info-item">
                        <label>çŠ¶æ€:</label>
                        <span id="loginStatus">æœªç™»å½•</span>
                    </div>
                    <div class="info-item">
                        <label>ç”¨æˆ·å:</label>
                        <span id="profileUsername">-</span>
                    </div>
                    <div class="info-item">
                        <label>é‚®ç®±:</label>
                        <span id="profileEmail">-</span>
                    </div>
                </div>
                
                <div class="profile-actions" id="profileActions" style="display: none;">
                    <button id="logoutBtn" class="btn btn-secondary">é€€å‡ºç™»å½•</button>
                    <button id="rechargeBtn" class="btn btn-primary">å……å€¼</button>
                </div>

                            <!-- ç´§å‡‘ç™»å½•æç¤ºï¼šä»…ä¸€ä¸ªâ€œç«‹å³ç™»å½•â€æŒ‰é’®ï¼Œç‚¹å‡»åå†æ˜¾ç¤ºç™»å½•çª—å£ -->
            <div id="loginPromptSection" class="login-prompt" aria-label="ç™»å½•æç¤º">
                <button id="showLoginBtn" class="btn btn-primary btn-compact" disabled style="background-color: #cccccc; cursor: not-allowed;">ç«‹å³ç™»å½•</button>
            </div>
                
                
                <div class="recharge-section" id="rechargeSection" style="display: none; margin-top: 2rem;">
                    <h3>è´¦æˆ·å……å€¼</h3>
                    <div class="recharge-options">
                        <div class="recharge-option" data-amount="10">
                            <span>Â¥10</span>
                        </div>
                        <div class="recharge-option" data-amount="30">
                            <span>Â¥30</span>
                        </div>
                        <div class="recharge-option" data-amount="50">
                            <span>Â¥50</span>
                        </div>
                        <div class="recharge-option" data-amount="100">
                            <span>Â¥100</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="customAmount">è‡ªå®šä¹‰é‡‘é¢</label>
                        <input type="number" id="customAmount" min="1" placeholder="è¾“å…¥å……å€¼é‡‘é¢">
                    </div>
                    <button id="confirmRecharge" class="btn btn-primary">ç¡®è®¤å……å€¼</button>
                </div>
            </div>
        </main>

        <footer class="bottom-nav" role="navigation" aria-label="åº•éƒ¨å¯¼èˆª">
            <a href="config.html" class="nav-item" aria-label="é¢è¯•é…ç½®">
                <span class="icon">ğŸ“‹</span>
                <span class="label">é¢è¯•</span>
            </a>
            <a href="user.html" class="nav-item active" aria-label="ç”¨æˆ·ä¸­å¿ƒ">
                <span class="icon">ğŸ‘¤</span>
                <span class="label">ç”¨æˆ·</span>
            </a>
        </footer>
    </div>
    
    <!-- ç”¨æˆ·é¡µç™»å½•æ¨¡æ€ï¼ˆä»…æ‰‹æœºå·ç™»å½•ï¼Œé£æ ¼å¯¹é½ login é¡µï¼‰ -->
    <div id="userLoginModal" class="modal" style="display:none;">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>ç”¨æˆ·ç™»å½•</h2>
            <form id="uModalPhoneLoginForm" class="login-form phone-form" style="display:block;">
                <div class="form-group">
                    <label for="uModalPhone">æ‰‹æœºå·</label>
                    <input type="tel" id="uModalPhone" placeholder="è¯·è¾“å…¥æ‰‹æœºå·" required>
                </div>
                <div class="form-group">
                    <label for="uModalCode">éªŒè¯ç </label>
                    <input type="text" id="uModalCode" placeholder="è¯·è¾“å…¥6ä½éªŒè¯ç " required>
                </div>
                <div class="actions">
                    <button type="button" id="uModalSendCodeBtn" class="btn btn-secondary">å‘é€éªŒè¯ç </button>
                    <button type="submit" class="btn btn-primary">ç™»å½•</button>
                </div>
                <p style="margin-top:8px; font-size:12px; color:#657786; display:none;">å¼€å‘æ¨¡å¼ï¼šéªŒè¯ç å·²ç”Ÿæˆå¹¶æ˜¾ç¤ºåœ¨å¼¹çª—æç¤ºä¸­ã€‚</p>
            </form>
        </div>
    </div>

    <script src="js/user.js"></script>
    <script>
      // ç®€å•å…œåº•ï¼šç¡®ä¿ç”¨æˆ·é¡µç™»å½•æŒ‰é’®å­˜åœ¨æ—¶å¯æ‰“å¼€æ¨¡æ€
      document.addEventListener('DOMContentLoaded', function(){
        var btn = document.getElementById('showLoginBtn');
        var modal = document.getElementById('userLoginModal');
        if(btn && modal){
          btn.addEventListener('click', function(){ modal.style.display = 'block'; });
          modal.addEventListener('click', function(e){ if(e.target === modal) modal.style.display = 'none'; });
          var closeEls = modal.querySelectorAll('.close');
          closeEls.forEach(function(el){ el.addEventListener('click', function(){ modal.style.display = 'none'; }); });
        }
        var sendBtn = document.getElementById('uModalSendCodeBtn');
        if(sendBtn){
          sendBtn.addEventListener('click', function(){
            var countdown = 60; var btn = sendBtn; btn.disabled = true; btn.textContent = countdown + 'ç§’åé‡å‘';
            var timer = setInterval(function(){ countdown--; btn.textContent = countdown + 'ç§’åé‡å‘'; if(countdown<=0){ clearInterval(timer); btn.disabled=false; btn.textContent='å‘é€éªŒè¯ç '; } },1000);
          });
        }
      });
    </script>
</body>
</html>